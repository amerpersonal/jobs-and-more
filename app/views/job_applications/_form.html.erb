<div class="container">

  <%= form_with(model: job_application, url: job_job_applications_path) do |form| %>
    <div class="form-group row">
      <div class="col-3"><%= form.label :first_name %></div>
      <div class="col-9">
        <%= form.text_field :first_name, class: "form-control" %>
        <% unless job_application.errors.full_messages_for(:first_name).empty? %>

          <div class="col-9 text-danger small apply-form-error">
            <%= job_application.errors.full_messages_for(:first_name).first %>
          </div>
        <% end %>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-3"><%= form.label :last_name %></div>
      <div class="col-9">
        <%= form.text_field :last_name, class: "form-control" %>
        <% unless job_application.errors.full_messages_for(:last_name).empty? %>
          <div class="col-9 text-danger small apply-form-error">
            <%= job_application.errors.full_messages_for(:last_name).first %>
          </div>
        <% end %>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-3"><%= form.label :birth_date %></div>
      <div class="col-9">
        <%= form.text_field :birth_date, class: "form-control datepicker" %>
        <% unless job_application.errors.full_messages_for(:birth_date).empty? %>

          <div class="col-9 text-danger small apply-form-error">
            <%= job_application.errors.full_messages_for(:birth_date).first %>
          </div>
        <% end %>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-3"><%= form.label :email %></div>
      <div class="col-9">
        <%= form.email_field :email, class: "form-control" %>
        <% unless job_application.errors.full_messages_for(:email).empty? %>

          <div class="col-9 text-danger small apply-form-error">
            <%= job_application.errors.messages_for(:email).first %>
          </div>
        <% end %>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-3"><%= form.label :phone_number %></div>
      <div class="col-9">
        <%= form.phone_field :phone_number, class: "form-control", placeholder: 'Must be a valid for number, e.g 00 387 61 522 222' %>
        <% unless job_application.errors.full_messages_for(:phone_number).empty? %>

          <div class="col-9 text-danger small apply-form-error">
            <%= job_application.errors.full_messages_for(:phone_number).first %>
          </div>
        <% end %>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-3"><%= form.label :address %></div>
      <div class="col-9">
        <%= form.text_field :address, class: "form-control" %>
        <% unless job_application.errors.full_messages_for(:address).empty? %>
          <div class="col-9 text-danger small apply-form-error">
            <%= job_application.errors.full_messages_for(:address).first %>
          </div>
        <% end %>
        </div>
    </div>

    <% @job_application.valid_competences.each do |competence| %>
      <div class="form-check form-check-inline">
        <%= form.label competence, class: "form-check-input" %>
        <%= form.radio_button :competence, competence, class: "form-check-label", id: competence %>
      </div>
    <% end %>

    <% unless job_application.errors.full_messages_for(:competence).empty? %>
      <div class="col-9 text-danger small apply-form-error">
        <%= job_application.errors.full_messages_for(:competence).first %>
      </div>
    <% end %>

    <input type="hidden" name="job_application[job_id]" value="<%= @job_application.job_id %>">

    <div class="actions form-group mt-2">
      <%= form.submit "Apply", class: "btn btn-primary", id: "apply" %>
      <%= link_to "Back", jobs_path, class: "btn btn-danger" %>
    </div>
  <% end %>

</div>
